# -*- org-confirm-babel-evaluate: nil; -*-
#+AUTHOR: Dan Čermák
#+DATE: November 13, 2024
#+EMAIL: dcermak@suse.com
#+TITLE: How openSUSE is built
#+SUBTITLE: From source code to an installation disk

#+REVEAL_ROOT: ./node_modules/reveal.js/
#+REVEAL_THEME: simple
#+REVEAL_PLUGINS: (highlight notes history)
#+OPTIONS: toc:nil
#+REVEAL_DEFAULT_FRAG_STYLE: appear
#+REVEAL_INIT_OPTIONS: transition: 'none', hash: true
#+OPTIONS: num:nil toc:nil center:nil reveal_title_slide:nil
#+REVEAL_EXTRA_CSS: ./node_modules/@fortawesome/fontawesome-free/css/all.min.css
#+REVEAL_EXTRA_CSS: ./custom-style.css
#+REVEAL_HIGHLIGHT_CSS: ./node_modules/reveal.js/plugin/highlight/zenburn.css

#+REVEAL_TITLE_SLIDE: <h2 class="title">%t</h2>
#+REVEAL_TITLE_SLIDE: <p class="subtitle" style="color: Gray;">%s</p>
#+REVEAL_TITLE_SLIDE: <p class="author">%a</p>
#+REVEAL_TITLE_SLIDE: <div style="float:left"><a href="https://more.suse.com/openhousecz" target="_blank"><img src="./media/SUSE_Logo-hor_L_Green-pos_sRGB.svg" height="50px" style="margin-bottom:-12px"/>&nbsp SUSE Open House</a></div>
#+REVEAL_TITLE_SLIDE: <div style="float:right;font-size:35px;"><p xmlns:dct="http://purl.org/dc/terms/" xmlns:cc="http://creativecommons.org/ns#"><a href="https://creativecommons.org/licenses/by/4.0" target="_blank" rel="license noopener noreferrer" style="display:inline-block;">
#+REVEAL_TITLE_SLIDE: CC BY 4.0 <i class="fab fa-creative-commons"></i> <i class="fab fa-creative-commons-by"></i></a></p></div>

* who -u

Dan Čermák

@@html: <div style="float:center">@@
@@html: <table class="who-table">@@
@@html: <tr><td><i class="fab fa-suse"></i></td><td> Software Developer @SUSE, SLE BCI Releng</td></tr>@@
@@html: <tr><td><i class="far fa-heart"></i></td><td> Developer Tools, Testing and Documentation, Home Automation</td></tr>@@
@@html: <tr></tr>@@
@@html: <tr></tr>@@
@@html: <tr><td><i class="fa-solid fa-globe"></i></td><td> <a href="https://dancermak.name/">https://dancermak.name</a></td></tr>@@
@@html: <tr><td><i class="fab fa-github"></i></td><td> <a href="https://github.com/dcermak/">dcermak</a></td></tr>@@
@@html: <tr><td><i class="fab fa-mastodon"></i></td><td> <a href="https://mastodon.social/@Defolos">@Defolos@mastodon.social</a></td></tr>@@
@@html: </table>@@
@@html: </div>@@


* Why even build a distribution?

#+ATTR_REVEAL: :frag appear
Just =pip/npm/cargo install= everything!

#+ATTR_REVEAL: :frag appear
A distribution provides:
#+ATTR_REVEAL: :frag (appear)
- integration
- keep packages working with each other
- testing/QE
- installers
- opinionated defaults


* From Sources to an Installer

#+ATTR_REVEAL: :frag (appear)
- just distributing sources isn't good enough anymore
- create binaries


* Deliverables

#+ATTR_REVEAL: :frag (appear)
- disk images
- installation ISOs
- container images
- binary packages
- repositories


* Parts of a Build System

#+begin_notes
- RPM building
- repository assembly
- image/container build
- publishing
- package monitoring
- source control
#+end_notes

#+ATTR_REVEAL: :frag (appear)
@@html:<img src="./media/linux-distro-build-pipeline.svg"/>@@


** RPM packages

#+ATTR_REVEAL: :frag (appear)
@@html:<img src="./media/rpm-package.svg"/>@@


** Flatpacks

- binaries including all dependencies


** Build system

#+ATTR_REVEAL: :frag (appear)
@@html:<img src="./media/obs-overview.svg"/>@@


** Repository Assembly

#+ATTR_REVEAL: :frag (appear)
- only ship what's required
- remove obsolete packages
- patchinfo creation
- deltarpms


** Testing/QE

- test automation with openQA


* The Factory Process

#+begin_notes
- how to submit to Factory
#+end_notes

#+ATTR_REVEAL: :frag (appear)
@@html:<img src="./media/factory-process.svg"/>@@


* Questions?

#+ATTR_REVEAL: :frag (appear)
Answers!
