<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<title>How openSUSE is built</title>
<meta name="author" content="Dan ƒåerm√°k"/>
<meta name="description" content=""/>
<meta name="keywords" content=""/>
<style type="text/css">
.underline { text-decoration: underline; }
</style>
<link rel="stylesheet" href="./node_modules/reveal.js/dist/reveal.css"/>

<link rel="stylesheet" href="./node_modules/reveal.js/dist/theme/simple.css" id="theme"/>

<link rel="stylesheet" href="./node_modules/@fortawesome/fontawesome-free/css/all.min.css"/>

<link rel="stylesheet" href="./custom-style.css"/>
<link rel="stylesheet" href="./node_modules/reveal.js/plugin/highlight/zenburn.css"/>
<!-- If the query includes 'print-pdf', include the PDF print sheet -->
<script>
    if( window.location.search.match( /print-pdf/gi ) ) {
        var link = document.createElement( 'link' );
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = './node_modules/reveal.js/css/print/pdf.css';
        document.getElementsByTagName( 'head' )[0].appendChild( link );
    }
</script>
</head>
<body>
<div class="reveal">
<div class="slides">
<section id="sec-title-slide"><h2 class="title">How openSUSE is built</h2>
<p class="subtitle" style="color: Gray;">From source code to an installation disk</p>
<p class="author">Dan ƒåerm√°k</p>
<div style="float:left"><a href="https://more.suse.com/openhousecz" target="_blank"><img src="./media/SUSE_Logo-hor_L_Green-pos_sRGB.svg" height="50px" style="margin-bottom:-12px"/>&nbsp SUSE Open House</a></div>
<div style="float:right;font-size:35px;"><p xmlns:dct="http://purl.org/dc/terms/" xmlns:cc="http://creativecommons.org/ns#"><a href="https://creativecommons.org/licenses/by/4.0" target="_blank" rel="license noopener noreferrer" style="display:inline-block;">
CC BY 4.0 <i class="fab fa-creative-commons"></i> <i class="fab fa-creative-commons-by"></i></a></p></div>
</section>

<section>
<section id="slide-org83dbe28">
<h2 id="org83dbe28">who -u</h2>
<p>
Dan ƒåerm√°k
</p>

<p>
 <div style="float:center">
 <table class="who-table">
 <tr><td><i class="fab fa-suse"></i></td><td> Software Developer @SUSE, SLE BCI Releng</td></tr>
 <tr><td><i class="far fa-heart"></i></td><td> Developer Tools, Testing and Documentation, Home Automation</td></tr>
 <tr></tr>
 <tr></tr>
 <tr><td><i class="fa-solid fa-globe"></i></td><td> <a href="https://dancermak.name/">https://dancermak.name</a></td></tr>
 <tr><td><i class="fab fa-github"></i></td><td> <a href="https://github.com/dcermak/">dcermak</a></td></tr>
 <tr><td><i class="fab fa-mastodon"></i></td><td> <a href="https://mastodon.social/@Defolos">@Defolos@mastodon.social</a></td></tr>
 </table>
 </div>
</p>


</section>
</section>
<section>
<section id="slide-orgce4390d">
<h2 id="orgce4390d">Why even build a distribution?</h2>
<aside class="notes">
<p>
A distribution provides:
</p>

<ul>
<li>integration</li>
<li>keep packages working with each other</li>
<li>testing/QE</li>
<li>installers</li>
<li>opinionated defaults</li>

</ul>

</aside>

<p class="fragment appear">
Just <code>pip/npm/cargo install</code> everything!
</p>

<div class="org-src-container">

<pre  class="fragment appear"  ><code class="shell" >$ pip3 install pysqlite3
...
Failed to build pysqlite3
Installing collected packages: pysqlite3
  Running setup.py install for pysqlite3 ... error
  error: subprocess-exited-with-error

  √ó Running setup.py install for pysqlite3 did not run successfully.
</code></pre>
</div>

<p class="fragment appear">
oops ü´†
</p>

</section>
</section>
<section>
<section id="slide-org79f212f">
<h2 id="org79f212f">From Sources to an Installer</h2>
<aside class="notes">
<ul>
<li>just distributing sources isn't good enough anymore</li>

</ul>
<p>
&rarr; have to build &amp; distribute binaries
</p>

</aside>

<p class="fragment appear">
A long time ago‚Ä¶
</p>

<div class="org-src-container">

<pre  class="fragment appear"  ><code class="shell" >$ cat INSTALL

BASIC INSTALLATION

On most Unix systems, you build Emacs by first running the
'configure' shell script.  This attempts to deduce the
correct values for various system-dependent variables and
features, and find the directories where certain system
headers and libraries are kept.  In a few cases, you may
need to explicitly tell configure where to find some things,
or what options to use.
</code></pre>
</div>

<p class="fragment appear">
Ain't no body got time for that &nbsp;  (‚ïØ¬∞‚ñ°¬∞Ôºâ‚ïØÔ∏µ ‚îª‚îÅ‚îª
</p>


</section>
<section id="slide-org79f212f-split">
<p>
<img src="./media/from-source-to-image.svg"/>
</p>


</section>
</section>
<section>
<section id="slide-org7d78439">
<h2 id="org7d78439">It starts with Packages</h2>
<p class="fragment (appear)">
<img src="./media/rpm-package.svg"/>
</p>


</section>
</section>
<section>
<section id="slide-orgb7fc8af">
<h2 id="orgb7fc8af">Deliverables</h2>
<ul>
<li class="fragment appear">disk images</li>
<li class="fragment appear">installation ISOs</li>
<li class="fragment appear">container images</li>
<li class="fragment appear">binary packages</li>
<li class="fragment appear">repositories</li>

</ul>


</section>
</section>
<section>
<section id="slide-org53397d6">
<h2 id="org53397d6">Parts of a Build System</h2>
<aside class="notes">
<ul>
<li>RPM building</li>
<li>repository assembly</li>
<li>image/container build</li>
<li>publishing</li>
<li>package monitoring</li>
<li>source control</li>

</ul>

</aside>

<p class="fragment (appear)">
<img src="./media/linux-distro-build-pipeline.svg"/>
</p>


</section>
<section id="slide-org5b61d67">
<h3 id="org5b61d67">RPM packages</h3>



</section>
<section id="slide-org7086dd1">
<h3 id="org7086dd1">Flatpacks</h3>
<ul>
<li>binaries including all dependencies</li>

</ul>


</section>
<section id="slide-orgc4d5936">
<h3 id="orgc4d5936">Build system</h3>
<p class="fragment (appear)">
<img src="./media/obs-overview.svg"/>
</p>


</section>
<section id="slide-org7cd2241">
<h3 id="org7cd2241">Repository Assembly</h3>
<aside class="notes">
<ul>
<li>only ship what's required</li>
<li>remove obsolete packages</li>
<li>patchinfo creation</li>
<li>deltarpms</li>

</ul>

</aside>

<p class="fragment (appear)">
<img src="./media/repocreate.svg"/>
</p>


</section>
<section id="slide-org48103e1">
<h3 id="org48103e1">Testing/QE</h3>
<aside class="notes">
<ul>
<li>test automation performed using openQA</li>

</ul>

</aside>

<p class="fragment (appear)">
<img src="./media/openqa_architecture.svg"/>
</p>

</section>
<section id="slide-org48103e1-split">

<p>
<video id="video" src="./media/o3-test-4621651.webm" controls/>
</p>



</section>
</section>
<section>
<section id="slide-orgac22a8c">
<h2 id="orgac22a8c">The Factory Process</h2>
<aside class="notes">
<ul>
<li>how to submit to Factory</li>

</ul>

</aside>

<p class="fragment (appear)">
<img src="./media/factory-process.svg"/>
</p>


</section>
</section>
<section>
<section id="slide-orgfa822f1">
<h2 id="orgfa822f1">Questions?</h2>
<p class="fragment (appear)">
Answers!
</p>
</section>
</section>
</div>
</div>
<script src="./node_modules/reveal.js/dist/reveal.js"></script>
<script src="./node_modules/reveal.js/plugin/highlight/highlight.js"></script>
<script src="./node_modules/reveal.js/plugin/notes/notes.js"></script>


<script>
// Full list of configuration options available here:
// https://github.com/hakimel/reveal.js#configuration
Reveal.initialize({
plugins: [RevealHighlight, RevealNotes, history],
transition: 'none', hash: true
});

</script>
</body>
</html>
